pipeline {
    agent none
    stages {
        stage('buildMaven') {
        agent {
            dockerfile {
	    dir '003 - Defining Execution Environments'
	    filename  'Dockerfile - Multiple Agents using Dockerfile'
                image 'maven:3.3.3'
            }
        }
        steps {
            sh "mvn --version"
        }
    }
       stage('buildNpm') {
        agent {
            docker {
                image 'node:6.3'
            }
        }
        steps {
            sh "npm --version"
        }
    }
    }
}
